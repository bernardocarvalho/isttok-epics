#######################################################
# ###                                             ### #
# ### EPICS Database for                          ### #
# ### I2C PCF8591 board                           ### #
# ###                                             ### #
# ### author: B. Carvalho IPFN                    ### #
# ###                                             ### #
# ### Ref 2.0; 2019-10-14                         ### #
# ###                                             ### #
# ### macros: ID      I2C address of ADC          ### #
# ### Description:                                ### #
# ### This is an example DB file using            ### #
# ### stream(asynI2C)    to read/write   ### #
# ### an PCF8591 ADDA chip                        ### #
#######################################################

#####################################################
# Read/Write pcf8591 register @ address 0x48=d72 ### #
#####################################################
record( mbboDirect, "$(P)$(R)PCF8591:72:CTRLREGISTER") {
	field( DTYP, "stream")
	field( OUT,  "@pcf8591.proto wReg(72) I2C")
	field( SHFT, "0")
	field( NOBT, "8")
	field(VAL, 255)
	field(PINI,"YES")
}

record( longin, "$(P)$(R)PCF8591:72:ADC_CH0" ) {
	field(DTYP, "stream")
	field(INP,  "@pcf8591.proto rConvAdc0(72) I2C")
	field(SCAN, "1 second")
#field( FLNK, "
}

